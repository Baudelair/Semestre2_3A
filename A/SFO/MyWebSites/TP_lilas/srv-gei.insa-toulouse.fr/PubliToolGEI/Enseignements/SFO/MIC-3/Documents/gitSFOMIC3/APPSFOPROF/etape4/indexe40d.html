<html>
<!-- Mirrored from srv-gei.insa-toulouse.fr/PubliToolGEI/Enseignements/SFO/MIC-3/Documents/gitSFOMIC3/APPSFOPROF/etape4/index.html?part=ID_PubliTool_N1012B by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 May 2018 14:01:27 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>&Eacute;tape 4&nbsp;: R&eacute;alisation d'un module RamDisk</title><!--Généré dynamiquement par PubliTool 2009--><link href="../../../../../../../BASE/CSS/Article.css" rel="stylesheet"><script src="../../../../../../../BASE/JS/Article.js" type="text/javascript">
   </script><script src="../../../../../../../BASE/JS/Mozile08/mozile.js" type="text/javascript"></script><script type="text/javascript">
      mozile.root = "../../../../../../../BASE/JS/Mozile08";
      mozile.useSchema("../../../../../../../BASE/JS/xhtmlPubliTool.rng");
      mozile.help = "http://srv-gei.insa-toulouse.fr/PubliToolGEI/BASE/JS/Mozile08/doc/html/index.html";
     </script><script src="../../../../../../../BASE/JS/formulaire.js" type="text/javascript"></script><script src="../../../../../../../BASE/JS/mozilePubliTool.js" type="text/javascript"></script></head><body><div id="zoneBoutons"><table style="padding: 0px;border:0px;"><tr style="padding: 0px;border:0px;"><td style="padding: 0px;border:0px;"><a href="../index.html"><img xmlns:url="http://whatever/java/java.net.URLEncoder" src="../pucePRpetiteee0c.png?echelle=0.60"></a></td></tr></table></div><div class="zoneTitreCentr&eacute;e" id="titre">&Eacute;tape 4&nbsp;: R&eacute;alisation d'un module RamDisk</div><div id="tocFixe"><ul><li class="niv0"><a href="index.html" onClick="return chargerURLsansHistorique(this)">&Eacute;tape 4&nbsp;: R&eacute;alisation d'un module RamDisk</a></li><li class="niv1"><a href="indexf3f7.html?part=ID_PubliTool_N10026" onClick="return chargerURLsansHistorique(this)">1 Sp&eacute;cifications du RamDisk</a></li><li class="niv2"><a href="index724d.html?part=ID_PubliTool_N1002A" onClick="return chargerURLsansHistorique(this)">1.1 Qu'est ce qu'un RamDisk &nbsp;?</a></li><li class="niv2"><a href="indexa113.html?part=ID_PubliTool_N100FD" onClick="return chargerURLsansHistorique(this)">1.2 Sp&eacute;cification du RamDisk</a></li><li class="niv2sel"><a href="indexe40d.html?part=ID_PubliTool_N1012B" onClick="return chargerURLsansHistorique(this)">1.3 L'acc&egrave;s direct m&eacute;moire du RamDisk</a></li><li class="niv1"><a href="indexe6c1.html?part=ID_PubliTool_N10154" onClick="return chargerURLsansHistorique(this)">2 Programmation</a></li><li class="niv1"><a href="indexaa2e.html?part=ID_PubliTool_N1018B" onClick="return chargerURLsansHistorique(this)">3 Applications</a></li><li class="niv2"><a href="indexe73b.html?part=ID_PubliTool_N10192" onClick="return chargerURLsansHistorique(this)">3.1 Chambre d'&eacute;cho</a></li><li class="niv2"><a href="index026c.html?part=ID_PubliTool_N101A2" onClick="return chargerURLsansHistorique(this)">3.2 Enregistreur</a></li></ul></div><div class="zoneMain"><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">
   - 1.3 -</p><p class="H2c" xmlns:url="http://whatever/java/java.net.URLEncoder">L'acc&egrave;s direct m&eacute;moire du RamDisk</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Une op&eacute;ration de lecture ou d'&eacute;criture de bloc du RamDisk d&eacute;bute
&eacute;ventuellement par l'initialisation des registres NoBloc et
AdrZone (Attention, l'adresse d'une zone doit &ecirc;tre align&eacute;e par rapport &agrave; un mot, c'est &agrave; dire que le bit de faibles poids de l'adresse doivent &ecirc;tre '0'). L'op&eacute;ration proprement dite commence ensuite lors du
chargement du registre Cmd (chargement qui remet &agrave; z&eacute;ro une &eacute;ventuelle
demande d'interruption, quelle que soit la valeur de la commande).
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Si la commande sp&eacute;cifie une lecture, les 8 mots du bloc sont
transf&eacute;r&eacute;s du RamDisk vers la m&eacute;moire &agrave; partir de l'adresse m&eacute;moris&eacute;e
dans le registre AdrZone. Si la commande sp&eacute;cifie une &eacute;criture, les 8
mots de la zone m&eacute;moire &agrave; partir de l'adresse m&eacute;moris&eacute;e dans le
registre AdrZone sont transf&eacute;r&eacute;s dans le bloc du RamDisk. Durant tout
le transfert en lecture ou &eacute;criture, l'&eacute;tat est positionn&eacute; &agrave; 01.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Lorsque l'&eacute;change est termin&eacute;, l'interruption num&eacute;ro 6 est lev&eacute;e et l'&eacute;tat
est positionn&eacute; &agrave; 10 (la demande IT6 est directement connect&eacute;e sur le bit 1 du status). Un &eacute;change peut &ecirc;tre stopp&eacute; avant la fin par une
simple &eacute;criture de la valeur 0 dans le registre CMD (dans ce cas, l'&eacute;tat devient 0, ce qui refait tomber la demande d'interruption).
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Le transfert d'un mot entre la m&eacute;moire et le RamDisk s'effectue &agrave;
travers le bus par un acc&egrave;s direct &agrave; la m&eacute;moire de la part de la carte
RamDisk. Avant chaque mot transf&eacute;r&eacute;, la carte doit devenir ma&icirc;tre du
bus en utilisant le signal BR.
</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder">Ce fonctionnement correspond &agrave; celui du graphe ci-dessous&nbsp;:
<div class="centr&eacute;e"><embed src="MachineEtat9f8e.svg?echelle=1.0" type="image/svg+xml"></embed></div>

</p><p style="top:10pt;bottom:5mm;text-align:justify;" xmlns:url="http://whatever/java/java.net.URLEncoder"><div class="" style="background-color:#FFCCFF;margin-top:1cm;margin-bottom:1cm;margin-left:0.25cm;margin-right:0.25cm"><strong>Travail&nbsp;: Fonctionnement de la carte RamDisk</strong><i><p style="text-align:justify;">Le module arch.ramDisk.CarteRamDiskTst est un banc de test de la carte RamDisk (analogue au module arch.gpio.CarteGPIOTst utilis&eacute; dans l'&eacute;tape pr&eacute;c&eacute;dente). Le module arch.ramDisk.CarteRamDiskTstSimulation offre des scripts pour tester le fonctionnement de la carte RamDisk. Le script TestEcriture simule l'op&eacute;ration de copie d'un bloc de 8 mots d&eacute;butant &agrave; l'adresse 0x0004 vers l'adresse 0x100010 de la ramDisk. Le script TestLecture simule l'op&eacute;ration de copie d'un bloc de 8 mots d&eacute;butant &agrave; l'adresse 0x100010 de la ramDisk vers l'adresse 0x0210. Examinez le fonctionnement de la carte RamDisk d'abord en ex&eacute;cutant ces deux scripts, ensuite, manuellement en pilotant l'interface de bus Test (les scripts PriseDuBus et LiberationDuBus permettent respectivement la prise du bus et la lib&eacute;ration par l'interface de test). Pour utiliser le module arch.ramDisk.CarteRamDiskTstSimulation, utilisez la commande&nbsp;:
<div style="white-space:pre;font-family:monospace;">$ <span style="color:#000086;"><strong>lilas /arch/ramDisk/CarteRamDiskTstSimulation.lilas -awt=awt</strong></span>

</div>

</p></i></div></p></div></body>
<!-- Mirrored from srv-gei.insa-toulouse.fr/PubliToolGEI/Enseignements/SFO/MIC-3/Documents/gitSFOMIC3/APPSFOPROF/etape4/index.html?part=ID_PubliTool_N1012B by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 31 May 2018 14:01:29 GMT -->
</html>